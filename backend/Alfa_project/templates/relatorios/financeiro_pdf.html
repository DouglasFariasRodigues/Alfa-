{% extends "relatorios/base_pdf.html" %}

{% block content %}
<div class="info-box">
    <h3>ðŸ’° Resumo Financeiro</h3>
    <div class="stats-grid">
        <div class="stat-card">
            <div class="number text-success">R$ {{ entradas|floatformat:2 }}</div>
            <div class="label">Total de Entradas</div>
        </div>
        <div class="stat-card">
            <div class="number text-danger">R$ {{ saidas|floatformat:2 }}</div>
            <div class="label">Total de SaÃ­das</div>
        </div>
        <div class="stat-card">
            <div class="number {% if saldo_periodo >= 0 %}text-success{% else %}text-danger{% endif %}">
                R$ {{ saldo_periodo|floatformat:2 }}
            </div>
            <div class="label">Saldo do PerÃ­odo</div>
        </div>
        <div class="stat-card">
            <div class="number">{{ total_transacoes }}</div>
            <div class="label">Total de TransaÃ§Ãµes</div>
        </div>
    </div>
</div>

{% if transacoes_por_tipo %}
<div class="info-box">
    <h3>ðŸ“Š TransaÃ§Ãµes por Tipo</h3>
    <table class="table">
        <thead>
            <tr>
                <th>Tipo</th>
                <th class="text-center">Quantidade</th>
                <th class="text-right">Valor Total</th>
            </tr>
        </thead>
        <tbody>
            {% for item in transacoes_por_tipo %}
            <tr>
                <td>
                    <span class="badge {% if item.tipo == 'entrada' %}badge-success{% else %}badge-danger{% endif %}">
                        {{ item.tipo|title }}
                    </span>
                </td>
                <td class="text-center">{{ item.quantidade }}</td>
                <td class="text-right">
                    <strong>R$ {{ item.total|floatformat:2 }}</strong>
                </td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</div>
{% endif %}

{% if transacoes_por_mes %}
<div class="info-box">
    <h3>ðŸ“ˆ EvoluÃ§Ã£o Mensal</h3>
    <table class="table">
        <thead>
            <tr>
                <th>MÃªs</th>
                <th class="text-center">Tipo</th>
                <th class="text-right">Valor</th>
            </tr>
        </thead>
        <tbody>
            {% for item in transacoes_por_mes %}
            <tr>
                <td>{{ item.mes }}</td>
                <td class="text-center">
                    <span class="badge {% if item.tipo == 'entrada' %}badge-success{% else %}badge-danger{% endif %}">
                        {{ item.tipo|title }}
                    </span>
                </td>
                <td class="text-right">
                    <strong>R$ {{ item.total|floatformat:2 }}</strong>
                </td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</div>
{% endif %}

<div class="info-box">
    <h3>ðŸ“… PerÃ­odo do RelatÃ³rio</h3>
    <p><strong>Data de InÃ­cio:</strong> {{ data_inicio|date:"d/m/Y" }}</p>
    <p><strong>Data de Fim:</strong> {{ data_fim|date:"d/m/Y" }}</p>
</div>
{% endblock %}
